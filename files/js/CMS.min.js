if(!CMS)var CMS={};$.widget("ui.fireSlide",{_buttonList:null,_count:0,_index:0,_items:null,_itemContainer:null,timer:null,options:{speed:2e3},width:0,_create:function(){var d=this.element.children("div");this._itemContainer=$("<div />").appendTo(this.element).css("left",0);d.appendTo(this._itemContainer);this._items=this._itemContainer.children("div");this._count=this._items.length;this._index=0;var b=0;this._width=this.element.innerWidth();this._items.each($.proxy(function(a,b){$(b).css({left:a*(40+this._width),width:this._width}).show()},this));this._buttonList=$('<ul class="slideshowButtonList" />').appendTo(this.element);for(var a=0;a<this._count;a++){if($(this._items.get(a)).outerHeight()>=b)b=$(this._items.get(a)).outerHeight();var c=$('<li><a><span class="icon icon16 icon-circle"></span></a></li>').click($.proxy(this._click,this)).appendTo(this._buttonList);a==0&&c.addClass("active")}this.element.css("height",b);$(window).resize($.proxy(this._resize,this));this._timer=setInterval($.proxy(this.slideTo,this),this.options.speed)},_click:function(a){clearInterval(this._timer);a.preventDefault();console.log("click");console.log($(a.currentTarget).index());this.slideTo($(a.currentTarget).index());this._timer=setInterval($.proxy(this.slideTo,this),this.options.speed)},_resize:function(){for(var b=0,a=0;a<this._count;a++)if($(this._items.get(a)).outerHeight()>=b)b=$(this._items.get(a)).outerHeight();this.element.css("height",b);this._width=this.element.innerWidth();this._items.each($.proxy(function(a,b){$(b).css({left:a*(40+this._width),width:this._width})},this));this._index=0;this.slideTo()},slideTo:function(a){if(typeof a!=="undefined")this._index=a;else this._index=this._index+1;if(this._index==this._count)this._index=0;this._buttonList.find(".active").removeClass("active");$(this._buttonList.children().get(this._index)).addClass("active");this._itemContainer.css({left:this._index*(40+this._width)*-1})}})